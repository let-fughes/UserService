databaseChangeLog:
  - changeSet:
      id: add-users-indexes
      author: Kiryl-Klimashevich
      changes:
        - createIndex:
            tableName: users
            indexName: idx_users_email
            unique: true
            columns:
              - column:
                  name: email

        - createIndex:
            tableName: users
            indexName: idx_users_name_surname
            columns:
              - column:
                  name: name
              - column:
                  name: surname

        - createIndex:
            tableName: users
            indexName: idx_users_birth_date
            columns:
              - column:
                  name: birth_date

  - changeSet:
      id: add-card-info-indexes
      author: Kiryl-Klimashevich
      changes:
        - createIndex:
            tableName: card_info
            indexName: idx_card_info_user_id
            columns:
              - column:
                  name: user_id

        - createIndex:
            tableName: card_info
            indexName: idx_card_info_number
            unique: true
            columns:
              - column:
                  name: number

        - createIndex:
            tableName: card_info
            indexName: idx_card_info_expiration_date
            columns:
              - column:
                  name: expiration_date

        - createIndex:
            tableName: card_info
            indexName: idx_card_info_holder
            columns:
              - column:
                  name: holder

        - addForeignKeyConstraint:
            baseTableName: card_info
            baseColumnNames: user_id
            referencedTableName: users
            referencedColumnNames: id
            constraintName: fk_card_info_user_id
            onDelete: CASCADE